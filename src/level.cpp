#include "level.hpp"
#include <iostream>

using namespace std;

/***************************************************************************************
**********************   KONSTRUKTOR   *************************************************
***************************************************************************************/
Level::Level(void)
{

}
/***************************************************************************************
**********************   KONTRUKTOR   *************************************************
***************************************************************************************/
Level::Level(std::string filename)
{
     loadFromFile(filename);
}
/***************************************************************************************
**********************   DESTRUKTOR   *************************************************
***************************************************************************************/
Level::~Level(void)
{
}
/***************************************************************************************
*********************   WCZYTYWANIE   *************************************************
***************************************************************************************/
void Level::loadFromFile(std::string filename)
{
     fstream file;
     file.open("data/levels/map.level", std::ios::in);// do poprawy (+filename)

     if(!file.is_open())
          std::cout<<"Nie znaleziono poziomu: "+filename;
     else
     {
          for(int y=0;y<height;y++)
               for(int x=0;x<width;x++)
               {
                    int tmp;
                    file>>tmp;
                    poziom[y][x].type = FieldType(tmp);

                    if(tmp==0)
                         poziom[y][x].isWall = false;
                    else
                         poziom[y][x].isWall = true;
               }
          }

     file.close();
}

